<html>
  <head>
    <title>marionette.layoutview - Marionette.js Docs</title>
    <link rel="stylesheet" href="../../styles/docs.css">
  </head>
  <body>
    <div class="docs">
      <div class="docs__sidebar">
        <select id="version-dropdown">
          
            
              <option value="v2.3.0">v2.3.0</option>
            
          
            
              <option value="v2.3.0-pre">v2.3.0-pre</option>
            
          
            
              <option value="v2.2.2">v2.2.2</option>
            
          
            
              <option value="v2.2.1">v2.2.1</option>
            
          
            
              <option value="v2.2.0">v2.2.0</option>
            
          
            
              <option value="v2.2.0-pre.2">v2.2.0-pre.2</option>
            
          
            
              <option value="v2.2.0-pre">v2.2.0-pre</option>
            
          
            
              <option value="v2.1.0">v2.1.0</option>
            
          
            
              <option value="v2.1.0-pre">v2.1.0-pre</option>
            
          
            
              <option value="v2.0.3">v2.0.3</option>
            
          
            
              <option value="v2.0.2">v2.0.2</option>
            
          
            
              <option value="v2.0.1">v2.0.1</option>
            
          
            
              <option value="v2.0.0" selected="selected">v2.0.0</option>
            
          
            
              <option value="v2.0.0-pre.2">v2.0.0-pre.2</option>
            
          
            
              <option value="v2.0.0-pre.1">v2.0.0-pre.1</option>
            
          
            
              <option value="v1.8.8">v1.8.8</option>
            
          
            
              <option value="v1.8.7">v1.8.7</option>
            
          
            
              <option value="v1.8.6">v1.8.6</option>
            
          
            
              <option value="v1.8.5">v1.8.5</option>
            
          
            
              <option value="v1.8.4">v1.8.4</option>
            
          
            
              <option value="v1.8.3">v1.8.3</option>
            
          
            
              <option value="v1.8.2">v1.8.2</option>
            
          
            
              <option value="v1.8.1">v1.8.1</option>
            
          
            
              <option value="v1.8.0">v1.8.0</option>
            
          
            
              <option value="v1.7.4">v1.7.4</option>
            
          
            
              <option value="v1.7.3">v1.7.3</option>
            
          
            
              <option value="v1.7.2">v1.7.2</option>
            
          
            
              <option value="v1.7.1">v1.7.1</option>
            
          
            
              <option value="v1.7.0">v1.7.0</option>
            
          
            
              <option value="v1.6.4">v1.6.4</option>
            
          
            
              <option value="v1.6.3">v1.6.3</option>
            
          
            
              <option value="v1.6.2">v1.6.2</option>
            
          
            
              <option value="v1.6.1">v1.6.1</option>
            
          
            
              <option value="v1.6.0">v1.6.0</option>
            
          
            
              <option value="v1.5.1">v1.5.1</option>
            
          
            
              <option value="v1.5.0">v1.5.0</option>
            
          
            
              <option value="v1.4.1">v1.4.1</option>
            
          
            
              <option value="v1.4.0">v1.4.0</option>
            
          
            
              <option value="v1.4.0-beta">v1.4.0-beta</option>
            
          
            
              <option value="v1.3.0">v1.3.0</option>
            
          
            
              <option value="v1.2.3">v1.2.3</option>
            
          
            
              <option value="v1.2.2">v1.2.2</option>
            
          
            
              <option value="v1.2.1">v1.2.1</option>
            
          
            
              <option value="v1.2.0">v1.2.0</option>
            
          
            
              <option value="v1.1.0">v1.1.0</option>
            
          
            
              <option value="v1.0.4">v1.0.4</option>
            
          
            
              <option value="v1.0.3">v1.0.3</option>
            
          
            
              <option value="v1.0.2">v1.0.2</option>
            
          
            
              <option value="v1.0.1">v1.0.1</option>
            
          
            
              <option value="v1.0.0">v1.0.0</option>
            
          
            
              <option value="v1.0.0-rc6">v1.0.0-rc6</option>
            
          
            
              <option value="v1.0.0-rc5">v1.0.0-rc5</option>
            
          
            
              <option value="v1.0.0-rc4">v1.0.0-rc4</option>
            
          
            
              <option value="v1.0.0-rc3">v1.0.0-rc3</option>
            
          
            
              <option value="v1.0.0-rc2">v1.0.0-rc2</option>
            
          
            
              <option value="v1.0.0-rc1">v1.0.0-rc1</option>
            
          
            
              <option value="v1.0.0-beta6">v1.0.0-beta6</option>
            
          
            
              <option value="v1.0.0-beta5">v1.0.0-beta5</option>
            
          
            
              <option value="v1.0.0-beta4">v1.0.0-beta4</option>
            
          
            
              <option value="v1.0.0-beta3">v1.0.0-beta3</option>
            
          
            
              <option value="v1.0.0-beta2">v1.0.0-beta2</option>
            
          
            
              <option value="v1.0.0-beta1">v1.0.0-beta1</option>
            
          
            
              <option value="v0.10.2">v0.10.2</option>
            
          
            
              <option value="v0.10.1">v0.10.1</option>
            
          
            
              <option value="v0.10.0">v0.10.0</option>
            
          
            
              <option value="v0.9.13">v0.9.13</option>
            
          
            
              <option value="v0.9.12">v0.9.12</option>
            
          
            
              <option value="v0.9.11">v0.9.11</option>
            
          
            
              <option value="v0.9.10">v0.9.10</option>
            
          
            
              <option value="v0.9.9">v0.9.9</option>
            
          
            
              <option value="v0.9.8">v0.9.8</option>
            
          
            
              <option value="v0.9.7">v0.9.7</option>
            
          
            
              <option value="v0.9.6">v0.9.6</option>
            
          
            
              <option value="v0.9.5">v0.9.5</option>
            
          
            
              <option value="v0.9.4">v0.9.4</option>
            
          
            
              <option value="v0.9.3">v0.9.3</option>
            
          
            
              <option value="v0.9.2">v0.9.2</option>
            
          
            
              <option value="v0.9.1">v0.9.1</option>
            
          
            
              <option value="v0.9.0">v0.9.0</option>
            
          
        </select>
        <nav>
          
            <a href="/docs/v2.0.0/marionette.application.html">marionette.application</a>
          
            <a href="/docs/v2.0.0/marionette.application.module.html">marionette.application.module</a>
          
            <a href="/docs/v2.0.0/marionette.approuter.html">marionette.approuter</a>
          
            <a href="/docs/v2.0.0/marionette.behavior.html">marionette.behavior</a>
          
            <a href="/docs/v2.0.0/marionette.behaviors.html">marionette.behaviors</a>
          
            <a href="/docs/v2.0.0/marionette.callbacks.html">marionette.callbacks</a>
          
            <a href="/docs/v2.0.0/marionette.collectionview.html">marionette.collectionview</a>
          
            <a href="/docs/v2.0.0/marionette.compositeview.html">marionette.compositeview</a>
          
            <a href="/docs/v2.0.0/marionette.configuration.html">marionette.configuration</a>
          
            <a href="/docs/v2.0.0/marionette.controller.html">marionette.controller</a>
          
            <a href="/docs/v2.0.0/marionette.functions.html">marionette.functions</a>
          
            <a href="/docs/v2.0.0/marionette.itemview.html">marionette.itemview</a>
          
            <a href="/docs/v2.0.0/marionette.layoutview.html">marionette.layoutview</a>
          
            <a href="/docs/v2.0.0/marionette.region.html">marionette.region</a>
          
            <a href="/docs/v2.0.0/marionette.regionmanager.html">marionette.regionmanager</a>
          
            <a href="/docs/v2.0.0/marionette.renderer.html">marionette.renderer</a>
          
            <a href="/docs/v2.0.0/marionette.templatecache.html">marionette.templatecache</a>
          
            <a href="/docs/v2.0.0/marionette.view.html">marionette.view</a>
          
        </nav>
      </div>
      <div class="docs__content">
        <h1><a name="marionette-layoutview" class="anchor" href="#marionette-layoutview"><span class="header-link"></span></a>Marionette.LayoutView</h1><p>A <code>LayoutView</code> is a hybrid of an <code>ItemView</code> and a collection of <code>Region</code> objects. They<br>are ideal for rendering application layouts with multiple sub-regions<br>managed by specified region managers.</p>
<p>A layoutView can also act as a composite-view to aggregate multiple<br>views and sub-application areas of the screen allowing applications to<br>attach multiple region managers to dynamically rendered HTML.</p>
<p>You can create complex views by nesting layoutView managers within <code>Regions</code>.</p>
<p>For a more in-depth discussion on LayoutViews, see the blog post<br><a href="http://lostechies.com/derickbailey/2012/03/22/managing-layouts-and-nested-views-with-backbone-marionette/">Manage Layouts And Nested Views With Backbone.Marionette</a></p>
<p>Please see<br><a href="marionette.itemview.md">the Marionette.ItemView documentation</a><br>for more information on available features and functionality.</p>
<p>Additionally, interactions with Marionette.Region<br>will provide features such as <code>onShow</code> callbacks, etc. Please see<br><a href="marionette.region.md">the Region documentation</a> for more information.</p>
<h2><a name="documentation-index" class="anchor" href="#documentation-index"><span class="header-link"></span></a>Documentation Index</h2><ul>
<li><a href="#basic-usage">Basic Usage</a></li>
<li><a href="#region-options">Region Options</a></li>
<li><a href="#specifying-regions-as-a-function">Specifying Regions As A Function</a></li>
<li><a href="#overriding-the-default-regionmanager">Overriding the default RegionManager</a></li>
<li><a href="#region-availability">Region Availability</a></li>
<li><a href="#re-rendering-a-layoutview">Re-Rendering A LayoutView</a><ul>
<li><a href="#avoid-re-rendering-the-entire-layout">Avoid Re-Rendering The Entire Layout</a></li>
</ul>
</li>
<li><a href="#nested-layoutviewss-and-views">Nested LayoutViews And Views</a></li>
<li><a href="#destroying-a-layoutview">Destroying A LayoutView</a></li>
<li><a href="#custom-region-class">Custom Region Class</a></li>
<li><a href="#adding-and-removing-regions">Adding And Removing Regions</a></li>
<li><a href="#region-naming">Region Naming</a></li>
</ul>
<h2><a name="basic-usage" class="anchor" href="#basic-usage"><span class="header-link"></span></a>Basic Usage</h2><p>The <code>LayoutView</code> extends directly from <code>ItemView</code> and adds the ability<br>to specify <code>regions</code> which become <code>Region</code> instances that are attached<br>to the layoutView.</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"layout-view-template"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/template"</span>&gt;</span><span class="javascript">
  &lt;section&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">navigation</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"menu"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-title">navigation</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">article</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"content"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-title">article</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">section</span>&gt;</span>
</span></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<pre><code class="lang-js">AppLayoutView = Backbone.Marionette.LayoutView.extend({
  template: <span class="hljs-string">"#layout-view-template"</span>,

  regions: {
    menu: <span class="hljs-string">"#menu"</span>,
    content: <span class="hljs-string">"#content"</span>
  }
});

<span class="hljs-keyword">var</span> layoutView = <span class="hljs-keyword">new</span> AppLayoutView();
layoutView.render();
</code></pre>
<p>Once you&#39;ve rendered the layoutView, you now have direct access<br>to all of the specified regions as region managers.</p>
<pre><code class="lang-js">layoutView.menu.show(<span class="hljs-keyword">new</span> MenuView());

layoutView.content.show(<span class="hljs-keyword">new</span> MainContentView());
</code></pre>
<h3><a name="region-options" class="anchor" href="#region-options"><span class="header-link"></span></a>Region Options</h3><p>A <code>LayoutView</code> can take a <code>regions</code> hash that allows you to specify regions per <code>LayoutView</code> instance.</p>
<pre><code class="lang-js"><span class="hljs-keyword">new</span> Marionette.LayoutView({
 regions: {
   <span class="hljs-string">"cat"</span>: <span class="hljs-string">".doge"</span>,
   <span class="hljs-string">"wow"</span>: {
     selector: <span class="hljs-string">".such"</span>,
     regionClass: Coin
   }
 }
})
</code></pre>
<h3><a name="specifying-regions-as-a-function" class="anchor" href="#specifying-regions-as-a-function"><span class="header-link"></span></a>Specifying Regions As A Function</h3><p>Regions can be specified on a LayoutView using a function that returns<br>an object with the region definitions. The returned object follow the<br>same rules for defining a region, as outlined above.</p>
<pre><code class="lang-js">Marionette.LayoutView.extend({
  <span class="hljs-comment">// ...</span>

  regions: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(options)</span></span>{
    <span class="hljs-keyword">return</span> {
      fooRegion: <span class="hljs-string">"#foo-element"</span>
    };
  },

  <span class="hljs-comment">// ...</span>
});
</code></pre>
<p>Note that the function recieves the view&#39;s <code>options</code> arguments that<br>were passed in to the view&#39;s constructor. <code>this.options</code> is not yet<br>available when the regions are first initialized, so the options<br>must be accessed through this parameter.</p>
<h3><a name="overriding-the-default-regionmanager" class="anchor" href="#overriding-the-default-regionmanager"><span class="header-link"></span></a>Overriding the default <code>RegionManager</code></h3><p>If you need the <code>RegionManager</code>&#39;s class chosen dynamically, specify <code>getRegionManager</code>:</p>
<pre><code class="lang-js">Marionette.LayoutView.extend({
  <span class="hljs-comment">// ...</span>

  getRegionManager: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// custom logic</span>
    <span class="hljs-keyword">return</span> MyRegionManager;
  }
</code></pre>
<p>This can be useful if you want to attach <code>LayoutView</code>&#39;s regions to your own instance of<br><code>RegionManager</code>.</p>
<h2><a name="region-availability" class="anchor" href="#region-availability"><span class="header-link"></span></a>Region Availability</h2><p>Any defined regions within a layoutView will be available to the<br>View or any calling code immediately after instantiating the<br>View. This allows a View to be attached to an existing<br>DOM element in an HTML page, without the need to call a render<br>method or anything else, to create the regions.</p>
<p>However, a region will only be able to populate itself if the<br>View has access to the elements specified within the region<br>definitions. That is, if your view has not yet rendered, your<br>regions may not be able to find the element that you&#39;ve<br>specified for them to manage. In that scenario, using the<br>region will result in no changes to the DOM.</p>
<h2><a name="re-rendering-a-layoutview" class="anchor" href="#re-rendering-a-layoutview"><span class="header-link"></span></a>Re-Rendering A LayoutView</h2><p>A layoutView can be rendered as many times as needed, but renders<br>after the first one behave differently than the initial render.</p>
<p>The first time a layoutView is rendered, nothing special happens. It just<br>delegates to the <code>ItemView</code> prototype to do the render. After the<br>first render has happened, though, the render function is modified to<br>account for re-rendering with regions in the layoutView.</p>
<p>After the first render, all subsequent renders will force every<br>region to be emptied by calling the <code>empty</code> method on them. This will<br>force every view in the region, and sub-views if any, to be destroyed<br>as well. Once the regions are emptied, the regions will also be<br>reset so that they are no longer referencing the element of the previous<br>layoutView render.</p>
<p>Then after the layoutView is finished re-rendering itself,<br>showing a view in the layoutView&#39;s regions will cause the regions to attach<br>themselves to the new elements in the layoutView.</p>
<h3><a name="avoid-re-rendering-the-entire-layoutview" class="anchor" href="#avoid-re-rendering-the-entire-layoutview"><span class="header-link"></span></a>Avoid Re-Rendering The Entire LayoutView</h3><p>There are times when re-rendering the entire layoutView is necessary. However,<br>due to the behavior described above, this can cause a large amount of<br>work to be needed in order to fully restore the layoutView and all of the<br>views that the layoutView is displaying.</p>
<p>Therefore, it is suggested that you avoid re-rendering the entire<br>layoutView unless absolutely necessary. Instead, if you are binding the<br>layoutView&#39;s template to a model and need to update portions of the layoutView,<br>you should listen to the model&#39;s &quot;change&quot; events and only update the<br>neccesary DOM elements.</p>
<h2><a name="nested-layoutviews-and-views" class="anchor" href="#nested-layoutviews-and-views"><span class="header-link"></span></a>Nested LayoutViews And Views</h2><p>Since the <code>LayoutView</code> extends directly from <code>ItemView</code>, it<br>has all of the core functionality of an item view. This includes<br>the methods necessary to be shown within an existing region manager.</p>
<pre><code class="lang-js">MyApp = <span class="hljs-keyword">new</span> Backbone.Marionette.Application();
MyApp.addRegions({
  mainRegion: <span class="hljs-string">"#main"</span>
});

<span class="hljs-keyword">var</span> layoutView = <span class="hljs-keyword">new</span> AppLayout();
MyApp.mainRegion.show(layoutView);

layoutView.show(<span class="hljs-keyword">new</span> MenuView());
</code></pre>
<p>You can nest layoutViews into region managers as deeply as you want.<br>This provides for a well organized, nested view structure.</p>
<p>For example, to nest 3 layouts (all of these are equivalent):</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> layout1 = <span class="hljs-keyword">new</span> Layout1();
<span class="hljs-keyword">var</span> layout2 = <span class="hljs-keyword">new</span> Layout2();
<span class="hljs-keyword">var</span> layout3 = <span class="hljs-keyword">new</span> Layout3();
MyApp.mainRegion.show(layout1);
layout1.region1.show(layout2);
layout2.region2.show(layout3);
</code></pre>
<pre><code class="lang-js">MyApp.mainRegion.show(<span class="hljs-keyword">new</span> Layout1());
MyApp.mainRegion.currentView.myRegion1.show(<span class="hljs-keyword">new</span> Layout2());
MyApp.mainRegion.currentView.myRegion1.currentView.myRegion2.show(<span class="hljs-keyword">new</span> Layout3());
</code></pre>
<p>Or if you like chaining:</p>
<pre><code class="lang-js">MyApp.mainRegion.show(<span class="hljs-keyword">new</span> Layout1())
  .currentView.myRegion1.show(<span class="hljs-keyword">new</span> Layout2())
  .currentView.myRegion2.show(<span class="hljs-keyword">new</span> Layout3());
</code></pre>
<h2><a name="destroying-a-layoutview" class="anchor" href="#destroying-a-layoutview"><span class="header-link"></span></a>Destroying A LayoutView</h2><p>When you are finished with a layoutView, you can call the<br><code>destroy</code> method on it. This will ensure that all of the region managers<br>within the layoutView are destroyed correctly, which in turn<br>ensures all of the views shown within the regions are destroyed correctly.</p>
<p>If you are showing a layoutView within a parent region manager, replacing<br>the layoutView with another view or another layoutView will destroy the current<br>one, the same it will destroy a view.</p>
<p>All of this ensures that layoutViews and the views that they<br>contain are cleaned up correctly.</p>
<h2><a name="custom-region-class" class="anchor" href="#custom-region-class"><span class="header-link"></span></a>Custom Region Class</h2><p>If you have the need to replace the <code>Region</code> with a region class of<br>your own implementation, you can specify an alternate class to use<br>with the <code>regionClass</code> property of the <code>LayoutView</code>.</p>
<pre><code class="lang-js">MyLayoutView = Backbone.Marionette.LayoutView.extend({
  regionClass: SomeCustomRegion
});
</code></pre>
<p>You can also specify custom <code>Region</code> classes for each <code>region</code>:</p>
<pre><code class="lang-js">AppLayoutView = Backbone.Marionette.LayoutView.extend({
  template: <span class="hljs-string">"#layout-view-template"</span>,

  regionClass: SomeDefaultCustomRegion,

  regions: {
    menu: {
      selector: <span class="hljs-string">"#menu"</span>,
      regionClass: CustomRegionClassReference
    },
    content: {
      selector: <span class="hljs-string">"#content"</span>,
      regionClass: CustomRegionClass2Reference
    }
  }
});
</code></pre>
<h2><a name="adding-and-removing-regions" class="anchor" href="#adding-and-removing-regions"><span class="header-link"></span></a>Adding And Removing Regions</h2><p>Regions can be added and removed as needed, in a<br>LayoutView instance. Use the following methods:</p>
<ul>
<li><code>addRegion</code></li>
<li><code>addRegions</code></li>
<li><code>removeRegion</code></li>
</ul>
<p>addRegion:</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> layoutView = <span class="hljs-keyword">new</span> MyLayoutView();

<span class="hljs-comment">// ...</span>

layoutView.addRegion(<span class="hljs-string">"foo"</span>, <span class="hljs-string">"#foo"</span>);
layoutView.foo.show(<span class="hljs-keyword">new</span> someView());
</code></pre>
<p>addRegions:</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> layoutView = <span class="hljs-keyword">new</span> MyLayoutView();

<span class="hljs-comment">// ...</span>

layoutView.addRegions({
  foo: <span class="hljs-string">"#foo"</span>,
  bar: <span class="hljs-string">"#bar"</span>
});
</code></pre>
<p>removeRegions:</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> layoutView = <span class="hljs-keyword">new</span> MyLayoutView();

<span class="hljs-comment">// ...</span>

layoutView.removeRegion(<span class="hljs-string">"foo"</span>);
</code></pre>
<p>Any region can be removed, whether it was defined<br>in the <code>regions</code> attribute of the region definition,<br>or added later.</p>
<p>For more information on using these methods, see<br>the <code>regionManager</code> documentation.</p>
<h2><a name="region-naming" class="anchor" href="#region-naming"><span class="header-link"></span></a>Region Naming</h2><p>A LayoutViews&#39; Regions are attached directly to the LayoutView instance with the name of the region<br>as the key and the region itself as the value. Because of this, you need to be careful<br>to avoid conflicts with existing properties on the LayoutView when you name your Region.</p>
<p>The prototype chain of LayoutViews is:</p>
<p><code>Backbone.View &gt; Marionette.View &gt; Marionette.ItemView &gt; Marionette.LayoutView</code></p>
<p>Consequently, every property on each of those Classes must be avoided as Region names. The most<br>common issue people run into is trying to name their Region <em>&quot;attributes&quot;</em>. Be aware<br>that you are <strong>not</strong> able to do this.</p>
<p>The following is an abbreviated list of other names that can&#39;t be used as Region names. For a more<br>complete list refer to the API documentation for each Class on the prototype chain:</p>
<ul>
<li>attributes</li>
<li>constructor</li>
<li>regionClass</li>
<li>render</li>
<li>destroy</li>
<li>addRegion</li>
<li>addRegions</li>
<li>removeRegion</li>
</ul>
<p><em>Note: this is a known issue that is flagged for being fixed in v2</em></p>

      </div>
    </div>
  </body>
  <script src="../../js/docs.js" type="text/javascript"></script>
</html>
